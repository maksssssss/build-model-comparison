# Инструкция по использованию AR функционала

## Поддерживаемые форматы

### iOS (iPhone/iPad)
- **Формат:** USDZ
- **Браузер:** Safari
- **Требования:** iOS 12+

### Android
- **Формат:** GLB/GLTF
- **Браузер:** Chrome
- **Требования:** ARCore поддержка

## Конвертация BIM моделей в AR форматы

### Для iOS (IFC/OBJ → USDZ)

**Вариант 1: Reality Converter (Apple, бесплатно)**
1. Скачайте Reality Converter: https://developer.apple.com/augmented-reality/tools/
2. Откройте приложение
3. Перетащите IFC/OBJ/FBX файл
4. Настройте материалы и масштаб
5. Экспортируйте как USDZ

**Вариант 2: Blender (бесплатно)**
1. Установите Blender 3.0+
2. Импортируйте модель (File → Import → IFC/OBJ)
3. Оптимизируйте геометрию (Decimate modifier)
4. Установите плагин USDZ exporter
5. Экспортируйте (File → Export → USD)

**Вариант 3: Онлайн конвертеры**
- https://products.aspose.app/3d/conversion/ifc-to-usdz
- https://imagetostl.com/convert/file/obj/to/usdz

### Для Android (IFC/OBJ → GLB)

**Вариант 1: Blender (бесплатно)**
1. Установите Blender 3.0+
2. Импортируйте модель (File → Import → IFC/OBJ)
3. Оптимизируйте геометрию
4. Экспортируйте (File → Export → glTF 2.0 → GLB)

**Вариант 2: FBX to GLB Converter**
- https://products.aspose.app/3d/conversion/obj-to-glb
- https://imagetostl.com/convert/file/obj/to/glb

## Использование AR в приложении

### На iPhone:

1. Конвертируйте BIM модель в USDZ формат
2. Откройте приложение в Safari
3. Переключитесь на вкладку "AR Режим"
4. Загрузите USDZ файл
5. Нажмите "Открыть в AR"
6. Наведите камеру на пол/поверхность
7. Разместите модель касанием экрана
8. Масштабируйте двумя пальцами
9. Поворачивайте пальцем

### На Android:

1. Конвертируйте BIM модель в GLB формат
2. Откройте приложение в Chrome
3. Переключитесь на вкладку "AR Режим"
4. Загрузите GLB файл
5. Нажмите "Активировать AR"
6. Разрешите доступ к камере
7. Наведите камеру на поверхность
8. Разместите модель
9. Используйте жесты для масштабирования и поворота

## Советы по оптимизации моделей

### Производительность:
- Упрощайте геометрию (< 100K полигонов для мобильных)
- Используйте сжатые текстуры (max 2048x2048)
- Объединяйте меши когда возможно
- Удаляйте внутренние элементы

### Размер файла:
- USDZ: оптимально < 25 MB
- GLB: оптимально < 50 MB
- Удалите лишние материалы и текстуры
- Используйте один материал для схожих элементов

### Масштаб:
- Убедитесь что модель в реальном масштабе
- 1 единица = 1 метр
- Проверьте размеры перед экспортом

## Поддержка устройств

### iOS с AR Quick Look:
- iPhone 6s и новее
- iPad Pro (все модели)
- iPad (5-го поколения и новее)
- iPad Air (3-го поколения и новее)
- iPad mini (5-го поколения и новее)

### Android с ARCore:
- Полный список: https://developers.google.com/ar/devices
- Основные: Samsung Galaxy S8+, Google Pixel, OnePlus 5 и новее

## Устранение проблем

**Модель не открывается в AR:**
- Проверьте формат файла (USDZ для iOS, GLB для Android)
- Убедитесь что размер файла не превышает лимит
- Проверьте что устройство поддерживает AR

**Модель слишком большая/маленькая:**
- Проверьте масштаб в 3D редакторе перед экспортом
- Используйте функцию масштабирования в AR

**Модель не загружается:**
- Проверьте интернет соединение
- Попробуйте уменьшить размер файла
- Проверьте что файл не поврежден
